			Installing MPFR 2001
			====================

0. You first need to install GMP. See <http://www.swox.com/gmp/>.
   MPFR version 2001 requires GMP version 3.1.1 or latter.

   After you have successfully built GMP, and installed it using
   "make install", you'll need to manually install some GMP header 
   files needed by MPFR. In the GMP source directory, type:

   cp config.h gmp-impl.h gmp-mparam.h longlong.h stack-alloc.h DIR/include

   where DIR is the directory where you have installed GMP. (The file
   stack-alloc.h is needed when gmp is configured with --disable-alloca.)

1. type "./configure --help", to see the options you have to choose
   For most users, "./configure --with-gmp=DIR" will suffice, where
   DIR is the directory where you have installed GMP.

2. type "make" (produces libmpfr.a and tests files)

3. type "make dvi" to produce the documentation (DVI file mpfr.dvi)

4. type "make check" (produces and runs the test files)

5. type "make install" (installs the library)

Notes:

- we tested the installation with GMP 3.1 on the following architectures:

Pentium II and III/Linux 2.2.10 or Windows
Athlon/Linux 2.4.0-test5
PowerPC/Linux 2.2.14
Alpha 21264 and 21164/OSF1 V4.0
SGI R12000/IRIX 6.5
Sun UltraSparc/Solaris 2.6

./configure options
===================

--with-gmp-include=DIR  assumes that DIR contains mpfr-impl.h, longlong.h...
--with-gmp-lib=DIR      assumes that DIR contains libgmp.a
--with-gmp=DIR          same as --with-gmp-lib=DIR/lib --with-gmp-include=DIR/include

Known problems.
===============

Linux on Alpha is known to have problems with IEEE conformance. See
<http://www.linux.org.uk/VERSION/relnotes.2211.html>. Also with OSF and
gcc 2.8.1, we had problems with the square root functions with -DTEST:

   Testing tsqrt
   libm.a differs from mpfr_sqrt for a=1.72800271916104480000e+210, rnd_mode=GMP_RNDZ
   libm.a gives 1.31453517227993750000e+105, mpfr_sqrt gives 1.31453517227993730000e+105 (-1 ulp)
   maybe you've found a bug in libm.a...
   ### tsqrt failed ###
   Testing tsqrt_ui
   mpfr_sqrt_ui differs from sqrt for a=851401618, rnd_mode=GMP_RNDU
   sqrt gives 2.91787871235251990000e+04, mpfr_sqrt_ui gives 2.91787871235252020000e+04 (1 ulp)
   maybe you've found a bug in libm.a
   ### tsqrt_ui failed ###

(in both cases the mpfr result is the correct one).

In case of problem.
===================

Please contact us at mpfr@loria.fr, indicating the machine and operating
system used (uname -a), the compiler used (gcc -v) and a description of
the problem encountered.
